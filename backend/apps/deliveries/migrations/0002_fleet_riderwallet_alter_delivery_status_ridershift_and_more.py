# Generated by Django 4.2.7 on 2025-11-17 06:44

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('deliveries', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Fleet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('contact_email', models.EmailField(blank=True, max_length=254)),
                ('contact_phone', models.CharField(blank=True, max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('manager', models.ForeignKey(limit_choices_to={'role__in': ['ADMIN', 'DELIVERY']}, on_delete=django.db.models.deletion.CASCADE, related_name='managed_fleets', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'fleets',
            },
        ),
        migrations.CreateModel(
            name='RiderWallet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('balance', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('pending_payout', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('last_payout_at', models.DateTimeField(blank=True, null=True)),
                ('rider', models.OneToOneField(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='rider_wallet', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_wallets',
            },
        ),
        migrations.AlterField(
            model_name='delivery',
            name='status',
            field=models.CharField(choices=[('PENDING', 'Pending Assignment'), ('ASSIGNED', 'Assigned'), ('ACCEPTED', 'Accepted by Rider'), ('REJECTED', 'Rejected by Rider'), ('ARRIVED_AT_PICKUP', 'Arrived at Pickup'), ('PICKED_UP', 'Picked Up'), ('IN_TRANSIT', 'In Transit'), ('DELIVERED', 'Delivered'), ('FAILED', 'Failed'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20),
        ),
        migrations.CreateModel(
            name='RiderShift',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('SCHEDULED', 'Scheduled'), ('ACTIVE', 'Active'), ('PAUSED', 'Paused'), ('COMPLETED', 'Completed'), ('CANCELLED', 'Cancelled')], default='SCHEDULED', max_length=20)),
                ('scheduled_start', models.DateTimeField(blank=True, null=True)),
                ('scheduled_end', models.DateTimeField(blank=True, null=True)),
                ('actual_start', models.DateTimeField(blank=True, null=True)),
                ('actual_end', models.DateTimeField(blank=True, null=True)),
                ('time_online_minutes', models.IntegerField(default=0)),
                ('idle_time_minutes', models.IntegerField(default=0)),
                ('distance_traveled_km', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('deliveries_completed', models.IntegerField(default=0)),
                ('earnings_total', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('auto_offline_enabled', models.BooleanField(default=False)),
                ('auto_offline_after_minutes', models.IntegerField(blank=True, null=True)),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='shifts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_shifts',
                'ordering': ['-actual_start'],
            },
        ),
        migrations.CreateModel(
            name='RiderReferral',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('referral_code', models.CharField(max_length=50, unique=True)),
                ('referred_email', models.EmailField(blank=True, max_length=254)),
                ('referred_phone', models.CharField(blank=True, max_length=20)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('COMPLETED', 'Completed'), ('EXPIRED', 'Expired')], default='PENDING', max_length=20)),
                ('referrer_bonus', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('referred_bonus', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('signup_date', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('referred_user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='referral_received', to=settings.AUTH_USER_MODEL)),
                ('referrer', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='referrals_sent', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_referrals',
            },
        ),
        migrations.CreateModel(
            name='RiderRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('rating', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('comment', models.TextField(blank=True)),
                ('punctuality_rating', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('communication_rating', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('service_rating', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('is_visible', models.BooleanField(default=True)),
                ('customer', models.ForeignKey(limit_choices_to={'role': 'CUSTOMER'}, on_delete=django.db.models.deletion.CASCADE, related_name='rider_ratings_given', to=settings.AUTH_USER_MODEL)),
                ('delivery', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='ratings', to='deliveries.delivery')),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='ratings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_ratings',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RiderProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('government_id_number', models.CharField(blank=True, max_length=100)),
                ('government_id_file', models.FileField(blank=True, null=True, upload_to='riders/government_id/')),
                ('selfie_photo', models.ImageField(blank=True, null=True, upload_to='riders/selfies/')),
                ('vehicle_type', models.CharField(blank=True, max_length=50)),
                ('vehicle_registration_number', models.CharField(blank=True, max_length=50)),
                ('vehicle_registration_file', models.FileField(blank=True, null=True, upload_to='riders/vehicle_registration/')),
                ('vehicle_model', models.CharField(blank=True, max_length=100)),
                ('vehicle_color', models.CharField(blank=True, max_length=50)),
                ('driver_license_number', models.CharField(blank=True, max_length=100)),
                ('driver_license_file', models.FileField(blank=True, null=True, upload_to='riders/driver_license/')),
                ('driver_license_expiry', models.DateField(blank=True, null=True)),
                ('emergency_contact_name', models.CharField(blank=True, max_length=150)),
                ('emergency_contact_phone', models.CharField(blank=True, max_length=20)),
                ('emergency_contact_relationship', models.CharField(blank=True, max_length=50)),
                ('profile_completion_percentage', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('rider', models.OneToOneField(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='rider_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_profiles',
            },
        ),
        migrations.CreateModel(
            name='RiderOnboarding',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('NOT_STARTED', 'Not Started'), ('IN_PROGRESS', 'In Progress'), ('PENDING_VERIFICATION', 'Pending Verification'), ('VERIFIED', 'Verified'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected')], default='NOT_STARTED', max_length=50)),
                ('phone_verified', models.BooleanField(default=False)),
                ('email_verified', models.BooleanField(default=False)),
                ('profile_completed', models.BooleanField(default=False)),
                ('documents_uploaded', models.BooleanField(default=False)),
                ('bank_details_added', models.BooleanField(default=False)),
                ('background_check_completed', models.BooleanField(default=False)),
                ('agreement_signed', models.BooleanField(default=False)),
                ('induction_video_watched', models.BooleanField(default=False)),
                ('current_step', models.IntegerField(default=0)),
                ('completed_steps', models.JSONField(default=list)),
                ('started_at', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejected_at', models.DateTimeField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True)),
                ('referral_code_used', models.CharField(blank=True, max_length=50)),
                ('rider', models.OneToOneField(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='onboarding', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_onboarding',
            },
        ),
        migrations.CreateModel(
            name='RiderDispute',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('dispute_type', models.CharField(choices=[('CHARGEBACK', 'Chargeback'), ('FALSE_COMPLAINT', 'False Complaint'), ('PAYMENT_ISSUE', 'Payment Issue'), ('RATING_DISPUTE', 'Rating Dispute'), ('OTHER', 'Other')], max_length=50)),
                ('status', models.CharField(choices=[('OPEN', 'Open'), ('IN_REVIEW', 'In Review'), ('RESOLVED', 'Resolved'), ('CLOSED', 'Closed')], default='OPEN', max_length=20)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('evidence_photos', models.JSONField(default=list)),
                ('resolution', models.TextField(blank=True)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('delivery', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='disputes', to='deliveries.delivery')),
                ('resolved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='resolved_disputes', to=settings.AUTH_USER_MODEL)),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='disputes', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_disputes',
            },
        ),
        migrations.CreateModel(
            name='RiderBankDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('bank_name', models.CharField(max_length=255)),
                ('account_holder_name', models.CharField(max_length=255)),
                ('account_number', models.CharField(max_length=50)),
                ('ifsc_code', models.CharField(blank=True, max_length=20)),
                ('bank_branch', models.CharField(blank=True, max_length=255)),
                ('is_verified', models.BooleanField(default=False)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('cancelled_cheque_file', models.FileField(blank=True, null=True, upload_to='riders/cancelled_cheques/')),
                ('rider', models.OneToOneField(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='bank_detail', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_bank_details',
            },
        ),
        migrations.CreateModel(
            name='RiderBackgroundCheck',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('IN_PROGRESS', 'In Progress'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('EXPIRED', 'Expired')], default='PENDING', max_length=20)),
                ('initiated_at', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('report_id', models.CharField(blank=True, max_length=100)),
                ('report_file', models.FileField(blank=True, null=True, upload_to='riders/background_checks/')),
                ('notes', models.TextField(blank=True)),
                ('provider', models.CharField(blank=True, max_length=100)),
                ('provider_reference', models.CharField(blank=True, max_length=100)),
                ('rider', models.OneToOneField(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='background_check', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_background_checks',
            },
        ),
        migrations.CreateModel(
            name='RiderAgreement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('agreement_version', models.CharField(max_length=50)),
                ('agreement_text', models.TextField()),
                ('agreed_at', models.DateTimeField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='agreements', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'rider_agreements',
                'ordering': ['-agreed_at'],
            },
        ),
        migrations.CreateModel(
            name='FleetRider',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(default=True)),
                ('joined_at', models.DateTimeField(auto_now_add=True)),
                ('fleet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='riders', to='deliveries.fleet')),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='fleet_memberships', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'fleet_riders',
            },
        ),
        migrations.CreateModel(
            name='EmergencyContact',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('name', models.CharField(max_length=150)),
                ('phone', models.CharField(max_length=20)),
                ('relationship', models.CharField(max_length=50)),
                ('is_primary', models.BooleanField(default=False)),
                ('share_location_with_emergency', models.BooleanField(default=True)),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='emergency_contacts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'emergency_contacts',
            },
        ),
        migrations.CreateModel(
            name='DeliveryOffer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('SENT', 'Sent'), ('ACCEPTED', 'Accepted'), ('DECLINED', 'Declined'), ('EXPIRED', 'Expired'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20)),
                ('estimated_earnings', models.DecimalField(decimal_places=2, max_digits=10)),
                ('distance_km', models.DecimalField(decimal_places=2, max_digits=10)),
                ('estimated_pickup_time', models.DateTimeField()),
                ('estimated_drop_time', models.DateTimeField()),
                ('expires_at', models.DateTimeField()),
                ('sent_at', models.DateTimeField(blank=True, null=True)),
                ('accepted_at', models.DateTimeField(blank=True, null=True)),
                ('declined_at', models.DateTimeField(blank=True, null=True)),
                ('decline_reason', models.CharField(blank=True, max_length=100)),
                ('decline_code', models.CharField(blank=True, max_length=50)),
                ('priority', models.IntegerField(default=0)),
                ('is_surge', models.BooleanField(default=False)),
                ('surge_multiplier', models.DecimalField(decimal_places=2, default=1.0, max_digits=5)),
                ('delivery', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='offers', to='deliveries.delivery')),
                ('rider', models.ForeignKey(blank=True, limit_choices_to={'role': 'DELIVERY'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='delivery_offers', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'delivery_offers',
            },
        ),
        migrations.CreateModel(
            name='AutoAcceptRule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('is_enabled', models.BooleanField(default=False)),
                ('max_distance_km', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('min_earnings', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('max_earnings', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('allowed_areas', models.JSONField(default=list)),
                ('priority', models.IntegerField(default=0)),
                ('rider', models.ForeignKey(limit_choices_to={'role': 'DELIVERY'}, on_delete=django.db.models.deletion.CASCADE, related_name='auto_accept_rules', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'auto_accept_rules',
            },
        ),
        migrations.CreateModel(
            name='RiderWalletTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('transaction_type', models.CharField(choices=[('CREDIT', 'Credit'), ('DEBIT', 'Debit')], max_length=20)),
                ('source', models.CharField(choices=[('EARNINGS', 'Earnings'), ('PAYOUT', 'Payout'), ('BONUS', 'Bonus'), ('REFUND', 'Refund'), ('ADJUSTMENT', 'Adjustment'), ('REFERRAL_BONUS', 'Referral Bonus')], max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('balance_after', models.DecimalField(decimal_places=2, max_digits=10)),
                ('description', models.TextField(blank=True)),
                ('delivery', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='deliveries.delivery')),
                ('earnings', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='deliveries.riderearnings')),
                ('wallet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions', to='deliveries.riderwallet')),
            ],
            options={
                'db_table': 'rider_wallet_transactions',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['wallet', '-created_at'], name='rider_walle_wallet__f8aa07_idx'), models.Index(fields=['transaction_type', 'source'], name='rider_walle_transac_3ddb1a_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='riderwallet',
            index=models.Index(fields=['rider'], name='rider_walle_rider_i_f9bc61_idx'),
        ),
        migrations.AddIndex(
            model_name='ridershift',
            index=models.Index(fields=['rider', 'status'], name='rider_shift_rider_i_ffd292_idx'),
        ),
        migrations.AddIndex(
            model_name='ridershift',
            index=models.Index(fields=['scheduled_start', 'scheduled_end'], name='rider_shift_schedul_d4958a_idx'),
        ),
        migrations.AddIndex(
            model_name='ridershift',
            index=models.Index(fields=['status', 'actual_start'], name='rider_shift_status_f78748_idx'),
        ),
        migrations.AddIndex(
            model_name='riderreferral',
            index=models.Index(fields=['referrer', 'status'], name='rider_refer_referre_431e12_idx'),
        ),
        migrations.AddIndex(
            model_name='riderreferral',
            index=models.Index(fields=['referral_code'], name='rider_refer_referra_c71e99_idx'),
        ),
        migrations.AddIndex(
            model_name='riderreferral',
            index=models.Index(fields=['status', 'expires_at'], name='rider_refer_status_841224_idx'),
        ),
        migrations.AddIndex(
            model_name='riderrating',
            index=models.Index(fields=['rider', '-created_at'], name='rider_ratin_rider_i_5192fc_idx'),
        ),
        migrations.AddIndex(
            model_name='riderrating',
            index=models.Index(fields=['customer'], name='rider_ratin_custome_434841_idx'),
        ),
        migrations.AddIndex(
            model_name='riderrating',
            index=models.Index(fields=['delivery'], name='rider_ratin_deliver_81d6ef_idx'),
        ),
        migrations.AddIndex(
            model_name='riderprofile',
            index=models.Index(fields=['rider'], name='rider_profi_rider_i_62b72b_idx'),
        ),
        migrations.AddIndex(
            model_name='riderprofile',
            index=models.Index(fields=['profile_completion_percentage'], name='rider_profi_profile_b06983_idx'),
        ),
        migrations.AddIndex(
            model_name='rideronboarding',
            index=models.Index(fields=['rider', 'status'], name='rider_onboa_rider_i_344219_idx'),
        ),
        migrations.AddIndex(
            model_name='rideronboarding',
            index=models.Index(fields=['status'], name='rider_onboa_status_19c3f0_idx'),
        ),
        migrations.AddIndex(
            model_name='riderdispute',
            index=models.Index(fields=['rider', 'status'], name='rider_dispu_rider_i_d2e9dc_idx'),
        ),
        migrations.AddIndex(
            model_name='riderdispute',
            index=models.Index(fields=['dispute_type', 'status'], name='rider_dispu_dispute_700655_idx'),
        ),
        migrations.AddIndex(
            model_name='riderbankdetail',
            index=models.Index(fields=['rider', 'is_verified'], name='rider_bank__rider_i_d69b23_idx'),
        ),
        migrations.AddIndex(
            model_name='riderbackgroundcheck',
            index=models.Index(fields=['rider', 'status'], name='rider_backg_rider_i_579e89_idx'),
        ),
        migrations.AddIndex(
            model_name='riderbackgroundcheck',
            index=models.Index(fields=['status', 'expires_at'], name='rider_backg_status_cf7794_idx'),
        ),
        migrations.AddIndex(
            model_name='rideragreement',
            index=models.Index(fields=['rider', '-agreed_at'], name='rider_agree_rider_i_012b7f_idx'),
        ),
        migrations.AddIndex(
            model_name='rideragreement',
            index=models.Index(fields=['agreement_version'], name='rider_agree_agreeme_620869_idx'),
        ),
        migrations.AddIndex(
            model_name='fleetrider',
            index=models.Index(fields=['fleet', 'is_active'], name='fleet_rider_fleet_i_e7f2ea_idx'),
        ),
        migrations.AddIndex(
            model_name='fleetrider',
            index=models.Index(fields=['rider', 'is_active'], name='fleet_rider_rider_i_ad4343_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='fleetrider',
            unique_together={('fleet', 'rider')},
        ),
        migrations.AddIndex(
            model_name='fleet',
            index=models.Index(fields=['manager', 'is_active'], name='fleets_manager_92955d_idx'),
        ),
        migrations.AddIndex(
            model_name='emergencycontact',
            index=models.Index(fields=['rider', 'is_primary'], name='emergency_c_rider_i_12d296_idx'),
        ),
        migrations.AddIndex(
            model_name='deliveryoffer',
            index=models.Index(fields=['rider', 'status'], name='delivery_of_rider_i_9e157e_idx'),
        ),
        migrations.AddIndex(
            model_name='deliveryoffer',
            index=models.Index(fields=['delivery', 'status'], name='delivery_of_deliver_69a59c_idx'),
        ),
        migrations.AddIndex(
            model_name='deliveryoffer',
            index=models.Index(fields=['status', 'expires_at'], name='delivery_of_status_914636_idx'),
        ),
        migrations.AddIndex(
            model_name='deliveryoffer',
            index=models.Index(fields=['priority', '-created_at'], name='delivery_of_priorit_c709c2_idx'),
        ),
        migrations.AddIndex(
            model_name='autoacceptrule',
            index=models.Index(fields=['rider', 'is_enabled'], name='auto_accept_rider_i_a837b0_idx'),
        ),
    ]
