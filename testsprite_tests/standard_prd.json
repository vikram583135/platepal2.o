{
  "meta": {
    "project": "PlatePal Food Delivery Platform",
    "date": "2025-11-14",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "PlatePal is a comprehensive food delivery platform enabling customers to browse restaurants, place orders, track deliveries, and manage profiles through intuitive React-based frontend apps backed by a robust Django REST Framework backend.",
  "core_goals": [
    "Enable seamless user authentication with multi-factor and biometric support",
    "Provide extensive restaurant discovery, search, and management capabilities",
    "Facilitate smooth order placement, tracking, and history management with real-time updates",
    "Support multiple payment methods including credit card, UPI, wallet, and cash on delivery",
    "Manage deliveries effectively with rider tracking and earnings management",
    "Offer real-time communication via chat between customers, restaurants, and delivery riders",
    "Provide a powerful admin panel for system monitoring, user and restaurant management, and analytics",
    "Ensure responsive design for usability across desktop, tablet, and mobile devices",
    "Maintain high availability and stability of WebSocket connections for real-time features",
    "Guarantee secure and scalable backend services with proper session and permission management"
  ],
  "key_features": [
    "JWT-based authentication supporting email/password, biometric login, two-factor authentication, OAuth integration, and session management",
    "Restaurant listing with advanced search, filtering by cuisine, rating, and detailed restaurant and menu views",
    "Order management allowing users to create, cancel, and track orders in real-time with live status updates",
    "Multiple payment methods processing and wallet management with refund capabilities",
    "Delivery management including delivery offers acceptance, rider location tracking, and earnings management",
    "Real-time chat system enabling communication among customers, restaurants, and riders over WebSocket connections",
    "Admin features for user and restaurant management, system health monitoring, analytics dashboard, and fraud detection",
    "React frontend applications tailored for customers, restaurants, delivery riders, and admins with consistent UI/UX",
    "Comprehensive notification system for order, delivery, and system updates",
    "Robust API endpoints ensuring secure and efficient data handling"
  ],
  "user_flow_summary": [
    "User registration and secure login using email/password or biometric authentication, with optional two-factor verification",
    "Customer browsing and searching restaurants using filters and keyword search, viewing menus and restaurant details",
    "Placing orders by selecting menu items, providing delivery details, choosing payment method, and confirming purchase",
    "Tracking order status in real-time from preparation to delivery with map integration and contact options",
    "Restaurant owners managing incoming orders via dashboard with status updates and notifications",
    "Delivery riders accepting offers, updating location in real-time, and tracking their earnings through dedicated app",
    "Admins managing users, restaurants, orders, and system analytics with access control via the admin panel",
    "Users receiving notifications about their order status, promotional offers, and system messages via multiple channels",
    "Real-time chatting between customers, restaurants, and delivery riders within active orders or conversations",
    "Handling payment operations securely with support for multiple payment options and confirmation workflows"
  ],
  "validation_criteria": [
    "Successful login, registration, and session persistence across supported authentication methods",
    "Accurate and relevant restaurant search results with functioning filters",
    "Complete order lifecycle handling: creation, modification, cancellation, and real-time tracking",
    "Reliable payment processing and wallet transactions without errors across all supported payment types",
    "Real-time updates delivered promptly with stable WebSocket connections and automatic reconnection",
    "Chat messages sent and received instantly among all parties without loss or delays",
    "Admin panel features accessible only to authorized users with correct data display and controls",
    "Frontend applications are responsive and functional across desktop, tablet, and mobile viewports",
    "API endpoints return correct and consistent status codes, enforce authentication, and validate inputs and error handling",
    "Notification delivery occurs timely and corresponds correctly to order and system events"
  ],
  "code_summary": {
    "tech_stack": [
      "Python",
      "Django",
      "Django REST Framework",
      "PostgreSQL",
      "Redis",
      "Django Channels",
      "JavaScript",
      "TypeScript",
      "React",
      "Vite",
      "TailwindCSS",
      "Zustand",
      "React Query",
      "JWT",
      "WebSocket",
      "Celery"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "JWT-based authentication with email/password, biometric auth, 2FA, OAuth (Google, Apple, Facebook), and session management",
        "files": [
          "backend/apps/accounts/views.py",
          "backend/apps/accounts/serializers.py",
          "backend/apps/accounts/models.py",
          "backend/apps/accounts/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Authentication API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/auth/token/": {
              "post": {
                "summary": "Login with email and password",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Returns access and refresh tokens"
                  }
                }
              }
            },
            "/api/auth/token/refresh/": {
              "post": {
                "summary": "Refresh access token"
              }
            },
            "/api/auth/biometric-auth/login/": {
              "post": {
                "summary": "Login with biometric authentication"
              }
            },
            "/api/auth/otp/send/": {
              "post": {
                "summary": "Send OTP for 2FA"
              }
            },
            "/api/auth/otp/verify/": {
              "post": {
                "summary": "Verify OTP"
              }
            }
          }
        }
      },
      {
        "name": "Restaurant Management",
        "description": "Restaurant listing, search, filtering, menu management, restaurant details, reviews, and restaurant dashboard",
        "files": [
          "backend/apps/restaurants/views.py",
          "backend/apps/restaurants/serializers.py",
          "backend/apps/restaurants/models.py",
          "backend/apps/restaurants/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Restaurant API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/restaurants/restaurants/": {
              "get": {
                "summary": "List all restaurants with filters",
                "parameters": [
                  {
                    "name": "search",
                    "in": "query",
                    "schema": {
                      "type": "string"
                    }
                  },
                  {
                    "name": "cuisine",
                    "in": "query",
                    "schema": {
                      "type": "string"
                    }
                  },
                  {
                    "name": "rating",
                    "in": "query",
                    "schema": {
                      "type": "number"
                    }
                  }
                ]
              }
            },
            "/api/restaurants/restaurants/{id}/": {
              "get": {
                "summary": "Get restaurant details"
              }
            },
            "/api/restaurants/restaurants/{id}/menu/": {
              "get": {
                "summary": "Get restaurant menu"
              }
            },
            "/api/restaurants/search/advanced/": {
              "post": {
                "summary": "Advanced restaurant search"
              }
            }
          }
        }
      },
      {
        "name": "Order Management",
        "description": "Create orders, view order history, track orders in real-time, cancel orders, and manage order status",
        "files": [
          "backend/apps/orders/views.py",
          "backend/apps/orders/serializers.py",
          "backend/apps/orders/models.py",
          "backend/apps/orders/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Order API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/orders/orders/": {
              "get": {
                "summary": "List user orders"
              },
              "post": {
                "summary": "Create new order",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "restaurant_id": {
                            "type": "integer"
                          },
                          "items": {
                            "type": "array"
                          },
                          "delivery_address_id": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/orders/orders/{id}/": {
              "get": {
                "summary": "Get order details"
              }
            },
            "/api/orders/orders/{id}/track/": {
              "get": {
                "summary": "Track order status"
              }
            }
          }
        }
      },
      {
        "name": "Payment Processing",
        "description": "Process payments with multiple methods (credit card, UPI, wallet, cash on delivery), handle refunds, and manage wallet",
        "files": [
          "backend/apps/payments/views.py",
          "backend/apps/payments/serializers.py",
          "backend/apps/payments/models.py",
          "backend/apps/payments/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Payment API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/payments/payments/": {
              "post": {
                "summary": "Process payment"
              }
            },
            "/api/payments/create_payment_intent/": {
              "post": {
                "summary": "Create payment intent"
              }
            },
            "/api/payments/confirm_payment/": {
              "post": {
                "summary": "Confirm payment"
              }
            },
            "/api/payments/wallet/": {
              "get": {
                "summary": "Get wallet balance"
              }
            }
          }
        }
      },
      {
        "name": "Delivery Management",
        "description": "Manage deliveries, track rider locations, handle delivery offers, manage rider profiles, and track earnings",
        "files": [
          "backend/apps/deliveries/views.py",
          "backend/apps/deliveries/serializers.py",
          "backend/apps/deliveries/models.py",
          "backend/apps/deliveries/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Delivery API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/deliveries/deliveries/": {
              "get": {
                "summary": "List deliveries"
              }
            },
            "/api/deliveries/deliveries/{id}/accept/": {
              "post": {
                "summary": "Accept delivery offer"
              }
            },
            "/api/deliveries/rider-locations/": {
              "post": {
                "summary": "Update rider location"
              }
            }
          }
        }
      },
      {
        "name": "Notifications",
        "description": "Send and manage notifications for orders, deliveries, and system updates",
        "files": [
          "backend/apps/notifications/views.py",
          "backend/apps/notifications/models.py",
          "backend/apps/notifications/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Notification API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/notifications/": {
              "get": {
                "summary": "List user notifications"
              }
            }
          }
        }
      },
      {
        "name": "Chat",
        "description": "Real-time chat functionality between customers, restaurants, and delivery riders",
        "files": [
          "backend/apps/chat/views.py",
          "backend/apps/chat/models.py",
          "backend/apps/chat/urls.py",
          "backend/websockets/consumers.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Chat API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/chat/conversations/": {
              "get": {
                "summary": "List conversations"
              }
            },
            "/ws/chat/{conversation_id}/": {
              "get": {
                "summary": "WebSocket endpoint for real-time chat"
              }
            }
          }
        }
      },
      {
        "name": "Admin Panel",
        "description": "Admin management features including user management, restaurant moderation, analytics, system health, and fraud detection",
        "files": [
          "backend/apps/admin_panel/views.py",
          "backend/apps/admin_panel/views_management.py",
          "backend/apps/admin_panel/views_moderation.py",
          "backend/apps/admin_panel/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Admin API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/admin/management/users/": {
              "get": {
                "summary": "List all users"
              }
            },
            "/api/admin/management/restaurants/": {
              "get": {
                "summary": "List all restaurants"
              }
            },
            "/api/admin/system/health/": {
              "get": {
                "summary": "Get system health status"
              }
            }
          }
        }
      },
      {
        "name": "Customer Frontend App",
        "description": "React-based customer application for browsing restaurants, placing orders, tracking deliveries, and managing profile",
        "files": [
          "frontend/apps/customer/",
          "frontend/packages/api/",
          "frontend/packages/ui/",
          "frontend/packages/types/"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Customer Frontend",
            "version": "1.0.0",
            "description": "Customer-facing React application running on port 3020"
          }
        }
      },
      {
        "name": "Restaurant Frontend App",
        "description": "React-based restaurant dashboard for managing menu, orders, inventory, and restaurant operations",
        "files": [
          "frontend/apps/restaurant/",
          "frontend/packages/api/",
          "frontend/packages/ui/"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Restaurant Frontend",
            "version": "1.0.0",
            "description": "Restaurant owner dashboard running on port 3021"
          }
        }
      },
      {
        "name": "Delivery Frontend App",
        "description": "React-based delivery rider application for accepting deliveries, tracking location, and managing earnings",
        "files": [
          "frontend/apps/delivery/",
          "frontend/packages/api/",
          "frontend/packages/ui/"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Delivery Frontend",
            "version": "1.0.0",
            "description": "Delivery rider app running on port 3022"
          }
        }
      },
      {
        "name": "Admin Frontend App",
        "description": "React-based admin panel for user management, analytics, marketplace controls, and system monitoring",
        "files": [
          "frontend/apps/admin/",
          "frontend/packages/api/",
          "frontend/packages/ui/"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Admin Frontend",
            "version": "1.0.0",
            "description": "Admin panel running on port 3023"
          }
        }
      }
    ]
  }
}
